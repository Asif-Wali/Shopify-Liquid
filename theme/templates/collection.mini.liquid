
<style>
.Pagination-Parent {
    width: fit-content;
    margin: 0 auto;
}

.Pagination-Parent > .page{
    border: 1px solid gray;
    border-radius: 5px;
    padding: 4px 10px;
}

.Pagination-Parent > .prev,
.Pagination-Parent > .next{
    border: 1px solid gray;
    border-radius: 5px;
    padding: 4px 6px; 
}

.Pagination-Parent>.current{
    border: 1px solid black;
}
#sort-by:focus{
    outline: none;
  }
</style>



 <!-- top heading -->
<main>
 
    {% render "BannerSlider" %}
    <!-- products -->
    <div class="lg:px-[10rem]   w-full ">

        <div class="lg:flex ">

            <div class="px-8 pt-4 w-full  relative ">

                <div class="px-4 flex lg:flex-row flex-col items-center justify-center py-4   border-2 border-[red]">

                    <div class="block lg:hidden text-center mx-auto text-gray-600 text-3xl mb-2 font-bold " style="font-family: Amatic SC;">
                        <h1 >Our Mini Collection</h1>
                    </div>
                        
                    <div class="flex items-center justify-between  w-full ">
                            <!-- ist option -->
                        <div class=" bg-white text-black  text-normal border border-black rounded-lg   px-4 py-2  border border-[blue] ">
                            <button type="button" class="flex items-center justify-between bg-white  text-black  text-normal font-light   " id="sidefilterbutton">
                                <span>Filter products </span>   
                            </button>    
                        </div>
                            {% comment %} heading on large screen {% endcomment %}
                        <div class="lg:block hidden text-center mx-auto text-gray-600 text-5xl font-bold" style="font-family: Amatic SC;">
                            <h1>Our Mini Collection</h1>
                        </div>
                        

                        <!-- 2nd option -->
                        <div class=" bg-white text-black border  border-black rounded-lg  px-4 py-2 border border-[blue] ">
                            {% comment %} <button type="button"  id="SortAccordian" class="flex items-center justify-between bg-white lg:text-base text-xs  font-light border border-[red] "  >
                                <p class="">Sort By: Relevance</p>
                            </button> {% endcomment %}
                            <select id="sort-by" class=" bg-white flex flex-col items-center justify-center text-black    text-normal">
                                {% assign sort_by = collection.sort_by | default: collection.default_sort_by %}
                                  {% for option in collection.sort_options %}
                                    <option value="{{ option.value }}" {% if option.value == sort_by %} selected="selected"{% endif %}>
                                      {{ option.name }}
                                    </option>
                                  {% endfor %}
                            </select>
                            <script>
                            Shopify.queryParams = {};
                            // Preserve existing query parameters
                            if (location.search.length) {
                                var params = location.search.substr(1).split('&');
                                for (var i = 0; i < params.length; i++) {
                                var keyValue = params[i].split('=');
                                if (keyValue.length) {
                                    Shopify.queryParams[decodeURIComponent(keyValue[0])] = decodeURIComponent(keyValue[1]);
                                }
                                }
                            }
                                
                            // Update sort_by query parameter on select change
                            document.querySelector('#sort-by').addEventListener('change', function(e) {
                                var value = e.target.value;
                                Shopify.queryParams.sort_by = value;
                                location.search = new URLSearchParams(Shopify.queryParams).toString();
                            });
                            </script>
                           
                        </div>
                    </div>

                </div>

                {% comment %} <div class=" w-full">
                    <div class="block relative  rounded overflow-hidden">
                    <img alt="ecommerce" class="object-contain object-center w-full  mb-2" height="" width=""  src="{{ 'Kumkumadi 35ml Paint.png' | asset_url }}">
                    </div>
                    <div class=" text-center">
                    <h3 class="text-gray-500 text-xs mb-2">Mahodaya Kannauj Rose Organic
                    Lip Butter - Pink</h3>
                    <div class="flex items-center justify-center gap-8">
                        <img   height="" width="" src="{{ 'ratings.png' | asset_url }}" alt="ratings">
                    </div>
                    <p class="mt-1">₹650.00</p>
                    <div class="flex justify-center items-center mt-2">
                        <button  class="text-gray-400  text-xs border border-gray-600 px-6 py-2 rounded-2xl mb-2 shadow-inner shadow-lg  hover:bg-[#71645c] hover:text-white">Add to Cart</button>
                    </div>
                    <div class="flex justify-center items-center mt">
                        <p class="text-gray-700 underline text-xs">
                        Quick View 
                        </p>
                    </div>
                    
                    </div>
                </div> {% endcomment %}

                {% paginate collection.products by 8 %}
                        <div class="grid lg:grid-cols-4 md:grid-cols-2 grid-cols-2 gap-2 mb-4 ">
                            {% for product in collection.products %}
                            <div class=" w-full">
                                {% form "product", product %}
                                <div class="hidden md:block relative rounded overflow-hidden ">
                                    <img   height="" width="" class="" src="{{ product.featured_image.src | image_url }}" />
                                </div>
                
                                <div class="block md:hidden relative rounded overflow-hidden ">
                                    <a href="{{ product.url }}">
                                    <img   height="" width="" class="" src="{{ product.featured_image.src | image_url }}" />
                                    </a>
                                </div>
                
                                <div class=" text-center ">
                                    <h3 class="hidden md:block text-gray-500 text-xs mb-2 ">{{ product.title }}</h3>
                                    
                                    <a href="{{ product.url }}" class="block md:hidden" >
                                    <h3 class="text-gray-500 text-xs mb-2">{{ product.title }}</h3>
                                    </a>
                                    <div class="flex items-center justify-center gap-8">
                                    <img   height="" width=""  src="{{ 'ratings.png' | asset_url }}" />
                                    </div>
                                    <p class="mt-1">₹ {{ product.price }}</p>
                                    <div class="flex justify-center items-center mt-2">
                                    <input type="hidden" name="id" value="{{ product.variants.first.id }}" />
                                    <button class="text-gray-400  text-xs border border-gray-600 px-6 py-2 rounded-2xl mb-2 shadow-inner shadow-lg  hover:bg-[#71645c] hover:text-white"  {% unless product.available %} disabled=“disabled” {% endunless %} type="submit">
                                        {% if product.available %}
                                        <p>Add to Cart</p>
                                        {% else %}
                                        <p>Sold Out</p>
                                        {% endif %}
                                    </button>
                                    </div>
                                    <div class=" hidden md:flex justify-center items-center mt">
                                    <a href="{{ product.url }}">
                                        <p class="text-gray-700 underline text-xs">
                                        Quick View 
                                        </p>
                                    </a>
                                    </div>
                                </div>
                                {% endform %} 
                            </div>
                            {% endfor %}
                        </div> 

                        <div class="Pagination-Parent flex gap-2 items-center justify-center"> {{- paginate | default_pagination -}} </div> 
                {% endpaginate %}
                <script>

                        document.querySelector( '.next a').innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" />
                        </svg>
                        `        
                </script>
                <script>
                    document.querySelector('.prev a').innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5 8.25 12l7.5-7.5" />
                        </svg>`
                </script>
            </div>

        </div>

    </div>


    <!-- Recently Viewed -->
    {% render "recentlyViewed" %}

    <hr class="w-10/12 mx-auto mt-2 mb-4">

    <!-- why timeless -->
    {% render "timelessSlider" %}
    
    <!--  animation -->
    {% render "animation" %}

 </main>


 



